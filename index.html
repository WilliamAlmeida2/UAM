<!DOCTYPE html>
<html>
<head>
    <title> Login Form with Bootstrap 4 - UIU</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/boostrap.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/solid.css">
    <script src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/index.css">
    <link rel="icon" href="./img/uam.png">
</head>
<body>    
    <div class="modal-dialog text-center">
        <div class="col-sm-8 main-section">
            <div class="modal-content">
                <div class="col-12 user-img">
                    <img src="img/uam.png">
                </div>
                <form class="col-12">
                    <div class="form-group">
                      <input type="email" class="form-control" id="userName" placeholder="enter username">
                       </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="inputPassword" placeholder="enter password">
                        </div>                      
                        <button type="button" class="abc" onclick="login()"> Login</button>  
                         <!--<button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off">
                          Única alternância -->
                                                    
                </form>    
                <div class="col-12 forgot">
                    <a href="#">Forgot Password?</a>
                    </div>                    
                </div>
            </div> <!--- end of modal content-->
        </div>
    </div>   
</body>
</html>
<script type="text/javascript">
    let login = () => {
        var settings = {
          "async": true,
          "crossDomain": false,
          "url": "https://localhost:44353/api/v1/Users/Login",
          "method": "POST",
          "headers": {
            "Content-Type": "application/json",
          },
          "processData": false,
          "data": `{
            'email': '${$('#userName').val()}',
            'password': '${$('#inputPassword').val()}',
             'type': 1
            
          }`
        }

        $.ajax(settings).done(function (response, error) {
          console.log(response, error);        
         $(location).attr('href', 'home.html')          

        })
        .catch((res) => {
          alert(res.responseText);
        });
    }
</script>